# 1.1 인터넷이란?
## 1.1.1 구성요소로 본 인터넷

- **host, end-system** : 컴퓨터 네트워크에 연결되는 모든 장치

- 각 종단 시스템은 **통신 링크**와 **패킷 스위치**의 네트워크로 연결됨. **링크**는 동축 케이블, 구리선, 광케이블 등.. 을 포함한 다양한 물리 매체로 구성됨
각 링크들은 다양한 전송률을 이용하여 데이터를 송수신하고, 초당 비트 수를 의미하는 **bps**단위를 사용함

- **패킷** : 송신지에서 segment를 생성하고, header를 붙인 정보 패키지를 말함.
이러한 패킷을 전달해주는 패킷 스위치로는, Router와 Link-layer Switch가 존재함.
둘 모두 최종 목적지 방향으로 패킷을 전달하는 역할을 함.
패킷이 목적지까지 거쳐가는 경로를 **route 또는 path**라고 부름.

- **ISP**: 우리가 알고있는 SKT, KT, LG같이 인터넷 서비스를 제공해주는 업체.
종단 시스템이나, CP(content provider)에게 인터넷 접속을 제공함.

 ISP끼리도 물론 서로 연결되어있음. ISP도 상위계층과 하위계층으로 나뉘는데, **하위계층은 주로 국가 내부이고, 상위계층은 주로 국제적인 연결을 담당함**.
 
- 프로토콜 : end-system, packet switch 등.. 여러 인터넷의 구성요소에 대한 규칙

 **TCP/IP** : 인터넷에서 가장 중요한 프로토콜
 IP 프로토콜은 라우터 및 종단 시스템 사이에서 송수신되는 패킷의 형태를 정함.
 
 **IETF** : 인터넷 프로토콜(표준)을 정하는 기구
 **RFC** : IETF에서 정한 표준 문서. 주로 TCP, IP, HTTP, SMTP같은 프로토콜을 정의함
 
## 1.1.2 서비스 측면에서 본 인터넷

- **분산 어플리케이션**: 서로 데이터를 주고받는 수많은 종단 시스템을 포함하는 어플리케이션. 예를 들면, 실시간 스트리밍, 온라인 소셜 미디어, 멀티플레이 게임 등.. 이 있다.
 
 이때, 패킷 교환기는 종단 시스템간의 데이터 교환을 쉽게해주지만, 어플리케이션 자체에는 관심을 가지지 않음.
 
 어플리케이션끼리 데이터를 교환하려면, **Socket interface**를 통해야한다.
 > 소켓 인터페이스는, 하나의 host 어플리케이션에서 다른 host의 어플리케이션 목적지로 데이터를 전달하도록 요구하는 인터페이스이다.
 다시 말해, 송신 프로그램이 따라야하는 규칙의 집합이다.
 
  예를 들어, 우편 시스템에서 B에게 편지를 보내려면, 다음과 같은 규약을 따라야 한다.
  1. 편지내용(데이터)를 써야한다.
  2. B의 이름, 주소, 우편번호를 써야한다.
  3. 우편을 밀봉하여 우체통에 넣어야한다.
  
  이러한 규칙이 바로 Socket interface 이다.
  
## 1.1.3 프로토콜이란 무엇인가?
 
 ![](https://velog.velcdn.com/images/calzone0404/post/0dce13df-133f-408b-a179-ebc593d5817d/image.png)
위 그림을 보면 이해하기 쉽다.

사람과 대화를 하기위해서는, 먼저 자신을 소개하는 과정이 있어야하며, 이후 지금이 몇시인지 묻는 행위를 할 수 있다.

물론, "안녕" 인사에 대해서, 부정적인 반응이 있을 수 있는데, 이는 통신의 거부행위로 이해할 수 있다.

이러한 행위의 기반으로, 만약 다른 문화권 사람의 대화는 서로 다른 프로토콜(언어)을 가지고 있기 때문에, 의사소통(통신)이 원활하지 않게된다.

마찬가지로 컴퓨터 네트워크에서도, 사람처럼 메세지를 교환하고 행동을 취하는 장치들이 존재한다.

>**프로토콜**: 둘 이상의 통신 개체 간에 교환되는 메세지 포맷과 순서뿐만 아니라, 메세지의 송수신 및 다른 이벤트에 따른 행동들을 정의한다.

<hr>

# 1.2 네트워크의 가장자리
![](https://velog.velcdn.com/images/calzone0404/post/f5a953aa-afa6-47fd-aa7f-9ac9fd327822/image.png)

## 1.2.1 접속 네트워크 유형

### 가정용 접근 네트워크(Residential Access Networks):

- **DSL**(Digital Subscriber Line): 전화 회선을 사용하여 서비스를 제공하는 방식. 전화와 인터넷 서비스를 동시에 사용할 수 있으며, 거리에 따라 속도가 감소할 수 있다.
![](https://velog.velcdn.com/images/calzone0404/post/f16e2bf2-93e5-40d3-9878-f18e0832f915/image.png)

- **HFC**(Hybrid Fiber-Coaxial): 케이블 TV 네트워크를 통해 인터넷 서비스를 제공한다. 단점으로는, 다수의 사용자가 대역폭을 공유하기 때문에, 사용량이 많은 시간대에는 속도가 느려질 수 있다.
![](https://velog.velcdn.com/images/calzone0404/post/cf1c225d-150a-429c-be54-0a5d8b7abd18/image.png)

- **FTTH**(Fiber To The Home): 광섬유를 집까지 직접 연결하는 방식으로, 매우 높은 속도를 제공할 수 있다. (현재 주로 사용하는 방식)
![](https://velog.velcdn.com/images/calzone0404/post/7bc7b59a-208f-4df9-b04c-b85c3789b21a/image.png)


### 기업용 접근 네트워크(Enterprise Access Networks):

일반적으로 이더넷(Ethernet) 기술을 사용하며, 기업 내부의 LAN(Local Area Network)을 통해 연결된다. 기업용 네트워크는 보통 고속의 인터넷 접속과 보안을 강화한 네트워크 구조를 가진다.

### 광역 무선 접근 네트워크(Wide-Area Wireless Access Networks):

- 셀룰러 네트워크(Cellular Networks): 이동 통신사가 제공하는 네트워크로, 3G, 4G, LTE 등의 기술을 사용해 이동 중에도 인터넷 접속이 가능하다.

- 위성 인터넷(Satellite Internet): 특히 농촌이나 접근이 어려운 지역에서 사용될 수 있으며, 위성을 통해 인터넷 서비스를 제공하는 기술이다.

## 1.2.2 물리적 매체
- 유선 매체(Wired Media): 구리선, 동축 케이블, 광섬유 등이 있으며, 각각의 매체는 전송 속도, 설치 비용, 유지 보수 등에서 다른 특성을 보인다.

- 무선 매체(Wireless Media): 라디오 주파수, 마이크로웨이브, 적외선 등을 통해 데이터를 전송한다. 무선 매체는 설치가 간편하고 유연하지만, 물리적 장애물에 의해 신호가 약해질 수 있다.

<hr>

# 1.3 네트워크 코어

## 1.3.1 패킷 교환

**패킷**
host끼리 통신할 때, 서로 원하는 무언가를 담은 메세지를 전송해야 한다. 이 때, 메세지를 보내기 위해 메세지를 작게 분할한것이 바로 패킷이다.

이때 패킷은 라우터 네트워크와 스위치 네트워크를 거쳐서 목적지까지 전달된다.

만약 라우터 또는 스위치에 달려있는 회로의 전송속도가 $Rbits/sec$이라면, $Lbits$를 보내는 데 걸리는 시간은 $L/Rsec$이다.

### Store and forward

![](https://velog.velcdn.com/images/calzone0404/post/6305d2f4-30f7-4b58-8f6f-89c0cc1a2fdd/image.png)

**저장 후 전달 방식**은 **패킷 스위치(라우터)**가 패킷의 일부분이 아닌, 패킷 전체를 저장 후, 목적지로 전달하는 방식이다.

위 그림을 예시로 들어보자. 위 라우터는 패킷 1번의 일부분을 수신하고 있다. 이때, 저장 후 전달 방식을 채택한 라우터이므로 패킷 1의 전체가 저장되기 전까지는 목적지 인터페이스로 패킷을 전달할 수 없다. 

따라서, 전송패킷의 크기가 $L$이고, 전송률이 $R$일때, 라우터까지 전송시간은 $L/R$이 소요된다.

또, 패킷이 전부 라우터에 전달되었으면 목적지 인터페이스로 이 패킷을 전송하는데도 $L/R$이 소요되므로 총 **$2L/R$**이 소요된다.

>반면, 저장 후 전달 방식이 아닌, 바로 전달 방식이라면?
라우터는 그냥 중계기 역할이므로 전체 $L/R$시간이 소요된다.

<hr>

#### 위 그림에 존재하는 패킷 1,2,3을 전부 전달하는데 걸리는 시간

time $0$ : 패킷 1,2,3이 Source의 NIC에서 출발
time $L/R$ : 패킷 1 전체가 라우터에 도착, 패킷 2 일부분 라우터에 도착
time $2L/R$ : 패킷 1 전체가 **Destination**에 도착, 패킷 2 전체가 라우터에 도착
time $3L/R$ : 패킷 2 전체가 **Destination**에 도착, 패킷 3 일부분이 라우터에 도착
time $4L/R$ : 패킷 3 전체가 **Destination**에 도착

#### 목적지 노드까지 N개의 Link로 구성된 경우

목적지까지 N개의 Link와 각 Link의 전송률이 R인경우 목적지까지 전달되는데 걸리는 시간은 다음과 같다.
$d_{종단 간 지연} = N*\frac{L}{R}$

### Queuing Delay and Packet Loss

모든 라우터의 인터페이스에는 **출력 버퍼(outer buffer) 또는 출력 큐 (output queue)**가 달려있다.

이 버퍼의 역할은 물론 송신하려고 하는 패킷을 저장하기 위해서이다. 예를 들면, 만약 패킷A가 목적지 C까지 전달되어야 하는데, C까지 연결되어 있는 링크에 이미 패킷 B가 전송되고 있는 중이라면, 패킷 A는 출력 버퍼에서 대기해야 한다 (**queuing delay**).

그런데, 만약 **버퍼가 꽉 차있다면?**
버퍼가 꽉 차있는 상태에서 후속 패킷들이 도착하면, 이 패킷들은 버려지게 될지도 모른다 (**packet loss**).

![](https://velog.velcdn.com/images/calzone0404/post/92cbee50-050f-4380-8cfd-bd6c29cf944d/image.png)

위 그림이 queuing delay가 일어날 가능성이 높은 경우이다.
만약 A가 수많은 패킷을 100mbps 속도로 전송하면, 전송률이 15mbps밖에 되지 않는 라우터는 금방 outer buffer가 가득 차버릴것이다.

### Forwarding table and Routing protocol

라우터의 동작방식은, 위에서 기술했던 것 처럼 어떤 인터페이스에서 받아서 다른 인터페이스로 보내버리는 동작을 수행한다. 그런데 라우터는 이 패킷을 어디로 보내야하는지 어떻게 알 수 있는것일까? 라우터는 이 문제를 해결하기 위해 포워딩 테이블을 사용한다.

**포워딩 테이블**
전달해야하는 패킷의 목적지 IP를 보고, 포워딩 테이블에 저장된 해당 목적지 네트워크 대역을 담당하는 인터페이스로 포워딩할 수 있도록 도와준다.

## 1.3.2 회선 교환

**회선 교환 방식**

- 필요한 경로를 미리 예약(확보)해서 데이터 통신을 수행한다.
이때 예약한 경로를 **회선**이라고 칭한다.

![](https://velog.velcdn.com/images/calzone0404/post/26d5fb6e-4e73-410a-9416-a2a6a25b9bf8/image.png)

그림을 보면, 왼쪽 위에있는 host a가 오른쪽 아래에 있는 host b에게 통신하기 위해서 미리 회선을 정해두고, 통신하고 있음을 알 수 있다.

또, 그림에서 하나의 선이 4개로 쪼개져 있는데, 예를 들어 선의 총 전송률이 1Mbps라면, 각 4개의 회선들은 0.25Mbps의 속도를 가진다.

### 회선 다중화 방법

**FDM(주파수 분할 방식)**
![](https://velog.velcdn.com/images/calzone0404/post/3e1fbcd3-35ae-43cd-8bbc-8cb172592dfc/image.png)

주파수 분할 방식은 한 링크의 주파수 스펙트럼을 공유한다. 특히 연결되는 동안 각 연결에 대해 고정된 주파수 대역을 할당하게 된다. 예시로 FM 방송 라디오를 들 수 있는데, 88MHz와 108MHz사이의 주파수 스펙트럼을 공유하며 FDM을 사용하는 방식이다.

**TDM(시간 분할 방식)**

![](https://velog.velcdn.com/images/calzone0404/post/242083bc-06e6-4553-a339-babc4f7022b7/image.png)

시간 분할 방식은 시간을 일정 주기의 프레임으로 구분하게 된다. 각 통신 주체는 할당된 순서(짧은 시간 동안) 프레임마다 통신이 가능하게 된다.
사진을 보면 1, 2, 3, 4번 통신이 주기적으로 통신을 수행함을 볼 수 있다.

### 패킷 교환 vs 회선 교환

- **효율성 및 비용**: 패킷 스위칭은 회로 스위칭에 비해 전송 용량을 **더 효율적**으로 공유하며, 구현이 더 간단하고 비용이 덜 든다.

- **실시간 서비스 적합성**: 패킷 스위칭은 예측할 수 없는 대기 시간으로 인해 **실시간 서비스에 적합하지 않다**는 주장이 있다.

- **사용 예시**: 사용자가 활동과 비활동을 번갈아 하면서 데이터를 생성할 경우, 패킷 스위칭은 회로 스위칭보다 많은 사용자를 지원할 수 있게 된다.

- **링크의 공유**: 회로 스위칭은 사용량에 관계없이 전송 링크를 미리 할당하고, 필요하지 않은 링크 시간은 사용되지 않는다. 즉 낭비되는 부분이 존재한다.

 하지만, 패킷 스위칭은 수요에 따라 링크 사용을 할당하며, 패킷이 **필요한 사용자들 사이에서만 링크 전송 용량을 공유**하기 때문에 낭비되는 부분이 적다고 할 수 있다.
 

## 1.3.3 네트워크의 네트워크

현재 우리가 사용하는 인터넷은 종단 시스템(PC, 스마트폰 등..)이 접속 ISP를 통해 인터넷에 연결되는 형식이다.

이때, 접속 ISP는 무조건 통신회사일 필요는 없다. 학교도 언제든지 접속 ISP가 될 수 있고, 일반회사도 언제든지 접속 ISP가 될 수 있다.

이때, 지구에는 수많은 나라에서 각자의 접속 ISP를 통해 인터넷을 사용하고 있다. 그렇다면, 다른나라에서 내가 사는 나라로 인터넷 연결을 하기 위해서는 어떻게 해야할까?

바로, 접속 ISP끼리의 연결이 필요하다. 이를 **네트워크의 네트워크**라고 한다.


### 네트워크 구조 1
모든 접속ISP (이하, 인터넷 서비스 제공자)는 단일 글로벌 ISP와 연결된 형태로 구성됨.

글로벌 ISP는 전 세계에 걸쳐서 라우터 및 통신망을 구축하고, 비용이 매우 많이 들지만 모든 인터넷 서비스 제공자들이 연결되어 있기 때문에 이들로부터 비용을 받아낼 수 있다.

### 네트워크 구조 2

글로벌 ISP가 여러개 존재하며, 인터넷 서비스 제공자들이 서비스와 가격을 비교하여 합리적인 글로벌 ISP를 선택 가능하다. 때문에 인터넷 서비스 제공자에게 더 많은 선택권과 유연성이 생긴다.

글로벌 ISP가 여러개이기 때문에 이들끼리도 상호 연결이 필요하다.

### 네트워크 구조 3

이 구조는 인터넷 서비스 제공자, 지역 ISP, 1티어 ISP로 나뉜 다층 구조이다. 각 지역에 존재하는 인터넷 서비스 제공자가 해당 지역의 ISP에 연결되고, 지역 ISP는 1티어 ISP로 연결되는 형태이다.

### 네트워크 구조 4

인터넷 서비스 제공자, 지역 ISP, 1티어 ISP뿐만 아니라 PoP(Point of Presence), 멀티홈링, 피어링, 인터넷 교환 지점(Internet Exchange Point : IXP)가 추가되어있는 형태이다.

각 ISP들은 비용을 줄이면서 네트워크 신뢰성을 확보하기 위해 다중 연결을 지원하거나, 다른 ISP와 직접 연결하여 피어링을 한다.

### 네트워크 구조 5

![](https://velog.velcdn.com/images/calzone0404/post/e04bf7a7-e7d3-40fe-813b-e04ef863cb9d/image.png)

네트워크 구조 4를 이루는 구성요소에 **콘텐츠 제공자 (구글 등..)**가 추가되어있다.

예를 들어, 구글과 같이 대형 콘텐츠를 제공하는 회사는 **자체적으로 글로벌 네트워크를 구축**해서 상위 티어 ISP를 우회해버리고, **직접 하위 티어 ISP와 연결하거나, IXP를 통해 연결하는 형태이다.**

이를 통해 Contents Provider는 비용 절감 및 인터넷 서비스 통제에 대해 회피가 가능하다.

# 1.4 패킷 교환 네트워크에서의 지연, 손실과 처리율
![](https://velog.velcdn.com/images/calzone0404/post/819f690e-9e02-4ad3-9da4-23b39e9af1f7/image.png)

## 1.4.1 패킷 교환 네트워크에서의 지연 개요

#### processing delay (처리 지연)
> 전송된 패킷의 헤더를 검사하고, 이 패킷을 어디로 보낼지를 결정하는 시간

일반적으로 라우터에서의 처리지연시간은 수 마이크로초 소요되며, 패킷 헤더를 검사한 후, Ouput buffer로 보낸다.

#### queuing delay (큐잉 지연)
> Output link에서 목적지로 전달되기 위해 Output buffer에서 대기하는 시간

큐잉 지연 시간은 현재 큐에 존재하는 패킷의 수에 의해 결정되며, 큐가 비어있다면 0이다.

#### transmission delay (전송 지연)
> 전송 지연은 라우터 Output buffer에서 완전히 패킷을 내보내는데 걸리는 시간이다.

패킷의 길이를 $L$, 목적지까지 연결된 링크의 전송률을 $R$이라고 해보면,
전송 지연 시간은 $L/R$이다.

#### propagation delay (전파 지연)
> 송신지 ~ 수신지까지 비트가 전파되는데 소요되는 시간을 말한다.

주로 $2 * 10^8미터/초 ~ 3 * 10^8미터/초$ 소요된다.

### 전송 지연과 전파 지연의 차이점
``전송지연``은 라우터가 패킷을 완전히 내보내는데 걸리는 시간이고, 
``전파지연``은 한 라우터에서 다음 라우터까지 전파되는데 걸리는 시간이다.

> 위 4가지를 종합해보면, 다음 식을 도출해낼 수 있다.
$d_{nodal} = d_{proc} + d_{queue} + d_{trans} + d_{prop}$

## 1.4.2 큐잉 지연과 패킷 손실

언제 큐잉 지연이 크고, 언제 큐잉 지연이 미미할까?
우선, 패킷이 **Queue에 도착하는 비율을$a$**라고하고, **$R$은 전송률**이라고 해보자.
또, 편의상 **모든 패킷들의 비트가 $L$**이라고 하고, **큐의 크기는 무한대**라고 가정해보자

> 비트가 큐에 도착하는 평균 비율은 **$La$** $bits/sec$이다. 그리고 **$La/R$**를 **트래픽 강도**라고 말한다.

만약 **$La > 1$**이라면, 트래픽 강도가 허용량을 초고하한 것으로, 전달받는 비트가 내보내지는 비트보다 더 크다는 것이다.
다시말해, 전달받는 비트가 내보내는 비트보다 더 많다면 당연히 **Output Queue**는 처리되지 않은 상태로 지속될 것이므로
**큐잉 지연**시간은 무한대로 증가한다.

반대로 **$La <= 1$**이라면, 1에 가까울때는 큐잉 지연시간이 매우 높지만, 0에 가까워질수록 큐잉 지연시간은 거의 없어진다.

위 관계를 그래프로 표현하면 다음과 같다.
![](https://velog.velcdn.com/images/calzone0404/post/f2ac0567-f8f6-49fe-8377-83382206cc80/image.png)

### 패킷 손실
1.4.2에서 큐의 크기가 무한하다고 가정했는데, 실제로는 물론 큐의 크기는 제한되어있다.
만약 큐의 크기가 유한하다면 **트래픽 강도**가 1에 가까워질수록 전달받는 패킷이 큐에 들어가지 못하는 경우가 매우 많아져
**결국 버려지게된다(DROP).** 이를 **Packet loss**라고 부른다.

## 1.4.3 종단 간 지연

출발지에서 목적지까지의 지연 시간은 어떻게 될까?
먼저, 출발지 ~ 목적지 사이에 존재하는 라우터의 개수가 $N - 1$라고 해보자.
간단한 시나리오를 설정하기 위해,
- 네트워크는 현재 원활한 상태이다 (혼잡하지 않음).
- 각 라우터와 출발지 호스트의 처리 지연시간은 $d_{proc}$이다.
- 패킷 전송률은 $R비트/초$이다.
- 전파 지연시간은 $d_{prop}$이다

위 설정을 통해, 종단간의 지연 시간은 다음과 같이 구할 수 있다.
> $d_{end-to-end} = N * (d_{proc} + d_{trans} + d_{prop})$

### Traceroute
사용자가 호스트에서 목적지까지 라우팅 경로를 알 수 있도록 출력해주는 프로그램이다.
윈도우 Powershell은 `tracert [목적지IP or DNS]`를 통해 사용할 수 있다.

![](https://velog.velcdn.com/images/calzone0404/post/118d0aad-3378-4786-bd19-a6c755e2b65c/image.png)

## 1.4.4 컴퓨터 네트워크에서의 처리율

이 챕터에서는 라우터끼리가 아닌, 송신지에서 수신지까지에 대한 처리율에 대해서 이야기한다.
> **Throughput** : **처리량**

예를 들어, 한 파일을 Host A에서 Host B로 전송하는 경우, 파일 전송의 **average throughput**은 전송에 걸린 시간 **T** 동안 전송된 비트 수 **F**를 나눈 값이다.

서버의 처리량이 좋다고 해서 클라이언트의 처리량이 중요하지 않다는것은 아니다. 만약 32million bits를 2Mbps로 처리하는 서버는 16초밖에 걸리지 않겠지만, Host의 처리량이 1Mbps라면 결국 총 전송시간은 32초이다.

![](https://velog.velcdn.com/images/calzone0404/post/81123675-2f83-45e3-ba40-1bb0dd733bfa/image.png)

또 하나의 병목 링크 **Bottleneck link**에서 여러 서버가 동시에 해당 링크를 사용한다면 서로 공평하게 대역을 나누어가진다고 했을 때, 데이터 처리량은 당연히 줄어들게 된다.

**결론적으로 네트워크 데이터 처리량은 결국 링크의 전송률에 의존한다**

# 1.5 프로토콜 계층과 서비스 모델

## 프로토콜의 계층화
![](https://velog.velcdn.com/images/calzone0404/post/3d18abf6-8ce2-4e01-8f6e-1279d7f1c6e6/image.png)

우리가 해외여행을 가기위해 공항에서 수행하는 일련의 과정들처럼, 네트워크도 통신을 하기 위해 일련의 과정들을 거치고 있다.

![](https://velog.velcdn.com/images/calzone0404/post/fd551b8c-3590-44b0-98b5-2a45690a15a9/image.png)

즉, 위 해외여행을 할 때, 어떤 서비스 제공부서에서 어떠한 서비스를 제공받을 수 있는지 정해져 있다. 예를 들어, 공항의 Ticket 계층에서는 Ticket과 관련된 서비스를 제공하고, Baggage 계층에서는 수하물 처리와 관련된 서비스를 제공한다. 이와 마찬가지로 네트워크도 어떤 계층에서 어떠한 동작을 제공받는지 정해져있다.

![](https://velog.velcdn.com/images/calzone0404/post/c8b7ac7c-0b06-480a-9d1e-0b7825785b72/image.png)

이제 네트워크 각 계층이 어떤 역할을 하는지 자세히 알아보도록 하자.

### Application Layer
**어플리케이션 계층은 네트워크 어플리케이션, 호스트 어플리케이션과 관련된 프로토콜이 존재한다.**

- HTTP : 웹 서비스 제공
- SMTP : 메일 서비스 제공
- FTP : 파일 송수신 서비스 제공

위 프로토콜들은 하나의 호스트에만 있는것이 아니라 여러 호스트에 분산되어 있기 떄문에, 정보 교환이 필수적이다. 
> 어플리케이션 계층의 이러한 정보 교환을 패킷을 **`MESSAGE`**라고 부른다.

### Transport Layer
어플리케이션 계층에서는 우리가 실제로 사용하는 프로토콜이었다면, **전송 계층은 TCP, UDP라는 프로토콜을 통해 어플리케이션 계층의 프로토콜을 전달해준다.**

추후 더 자세히 알아볼것이지만,
- TCP는 연결 지향형 서비스를 제공한다. 즉, 메세지 전달을 보장해주고, 흐름을 제어해준다.
- UDP는 비연결형 서비스를 제공한다. 이 패킷은 메세지가 도착했는지 도착하지 않았는지는 상관할바가 아니다. 단지 빠르게 전달하려는 목적이 있다.

>전송계층에서 전달하는 패킷을 **`SEGMENT`**라고 한다.

### Network Layer
네트워크 계층은 전송 계층에서 보낸 세그먼트를 다른 송신지까지 길을 연결하는(라우팅) 책임을 가진다.

이 계층은 **IP 데이터그램** 필드를 정의하고, Host와 Router가 어떻게 동작해야하는지를 정의하는 프로토콜을 가지고 있다. 이 역할을 수행하는것이 바로 **`IP 프로토콜`**이다.

IP 프로토콜은 출발지와 목적지 사이에서 데이터가 이동하는 경로를 설정해주는 **라우팅 프로토콜**을 포함한다.

> 네트워크 계층에서 사용하는 데이터의 단위는 **`DATAGRAM`**이다.

### Link Layer
네트워크 계층이 라우터-라우터(외부 네트워크 대역) 이었다면, 링크 계층은 호스트 이웃 주민들과 관련된 네트워크를 담당한다. 즉, 호스트 내부 네트워크 대역의 라우팅을 책임지는 계층이다.

> 링크 계층에서 사용하는 데이터의 단위는 **`FRAME`**이다.

### Physical Layer

말그대로 랜선, 동축케이블, 광섬유와 같은 물리적 선과 NIC가 여기에 포함된다.

## 1.5.2 캡슐화
