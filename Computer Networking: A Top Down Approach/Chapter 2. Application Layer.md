# 2.1 네트워크 어플리케이션의 원리

## 2.1.1 네트워크 어플리케이션 구조
``어플리케이션 구조`` : 어플리케이션 개발자가 설계하며, 다양한 종단 시스템에서 어떻게 조직되어야 하는지를 알려준다. 
또한, 어플리케이션 구조를 선택할 때, Network Application에서 사용되는 두 가지 잘 알려진 구조 중 하나로 작성한다.

``클라이언트-서버 구조`` 
![](https://velog.velcdn.com/images/calzone0404/post/d5218efe-11bb-4cf4-9c12-e3286ee9ea97/image.png)

- 이 구조에서 항상 서비스를 제공하기 위해 동작하고 있는 호스트를 **Server**라고 부른다.
서버의 서비스는 Client라는 다른 호스트들로부터 서비스 요청을 받는다.
- Server에게 서비스를 요청하는 호스트를 **Client**라고 부른다.

특징 1. 클라이언트는 서로 직접적으로 통신하지 않는다. 즉, 항상 서버를 통해 통신한다.
특징 2. 서버가 고정 IP주소를 이용하여 Client에게 통신할 수 있는 환경을 제공한다.

``P2P구조``
![](https://velog.velcdn.com/images/calzone0404/post/f3a46cd8-be82-4344-8a53-7c9bfbb58cbd/image.png)

- 이 구조에서는 항상 켜져 있는 Infrastructure Server에 최소로 의존하거나 전혀 서버를 사용하지 않는다.
즉, 통신할 때 Client가 **Peer**가 되어 서로 직접 통신하게 된다.
예를 들면, Bittorrent같이 파일 공유 어플리케이션이 해당한다.

특징 1. **자가 확장성**
예를 들어, 파일 공유 어플리케이션에서 각 Peer들이 파일을 요구함으로써 작업 부하를 생성하지만, 각 피어들은 다른 피어들에게 분배함으로써 그 시스템에 서비스 능력도 추가한다.

특징 2. **비용 효율성**
서버에서 서비스를 제공받는것이 아니기 때문에 비용을 절약할 수 있다.

## 2.1.2 프로세스 간 통신

Host에서 실행하는 프로그램이 직접 통신하는것이 아니라, **Process**가 통신하는것이다. 이 2개의 Host에서 통신하기 위해 ``메세지``를 교환하며 서로 통신한다.

``Process`` : 종단 시스템에서 실행되는 프로그램

### 클라이언트와 서버 프로세스

> 두 프로세스 간의 통신 세션에서,
- Client : 다른 프로세스와 세션을 시작하려고 접속을 초기화하는 프로세스
- Server : 세션을 시작하기 위해 접속을 대기하는 프로세스

### 프로세스와 컴퓨터 네트워크 사이의 인터페이스

![](https://velog.velcdn.com/images/calzone0404/post/09387621-8d47-4aa2-a438-07568d2fbc38/image.png)

프로세스끼리는 **Socket**이라고 불리는 출입문을 통해 통신한다.
위 그림에서 보는것과 같이, Socket은 Application 계층과 Transport 계층간의 **Interface**이다. 따라서, Socket은 **API**라고도 불린다.

### 프로세스 주소 배정

패킷을 다른 호스트로 전달하기 위해서는 해당 호스트의 **주소**를 가져야한다. 네트워크에서는, 호스트를 식별하기 위해서 **IP주소**와 어떤 어플리케이션에서 사용중인지를 식별하기 위해 **Port 번호**를 사용한다.

## 2.1.3 어플리케이션이 이용 가능한 트랜스포트 서비스

### 1. 신뢰적 데이터 전송

>패킷이 네트워크에서 오버플로되거나, 버려지는 경우에 대한 데이터 손실을 최소화하기 위해 특정 Host가 전송한 패킷이 완전하게 다른 Host로 전달될 수 있도록 보장하는 조치

### 2. 처리율

> 처리율 : 네트워크 경로를 따라 두 프로세스간의 통신 세션에서 송신 프로세스가 수신 프로세스로 비트를 전달할 수 있는 비율

전송계층은 응용계층에서 특정한 처리율 $r$을 요구하면, 최소한 $r$을 보장하도록 처리한다.

여기서 특정한 처리율을 요구한느 어플리케이션을 **대역폭 민감 어플리케이션**이라고 한다.

반면 **탄력적 민감 어플리케이션**은 가용한 처리율을 자유롭게 이용할 수 있다. SMTP, HTTP, FTP와 같은 프로토콜이 그 예시이다.

### 3. 시간 보장

> 송신자가 소켓으로 내보내는 모든 비트가 수신자의 소켓에 특정 시간 (예: 100ms) 내에 도착하도록 보장하는 것

### 4. 보안

> 송신 프로세스가 전송하는 모든 데이터를 암호화하고, 수신측에서는 이를 복호화할 수 있는 서비스를 제공한다.

## 2.1.4 Transport Protocol이 제공하는 서비스

### TCP Service

### UDP Service

### Transport protocol이 제공하지 않는 서비스
