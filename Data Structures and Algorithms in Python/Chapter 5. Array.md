# 5.1 Python's Sequence Types

파이썬은 **``list``, ``tuple``, ``str`` class**를 통해 sequence type을 지원하고 있다.
그리고 각 sequence type은 **seq[k]**와 같은 형식을 통해 개별적인 element에 접근이 가능하다.

# 5.2 Low-Level Arrays
파이썬이 표현하는 sequence type을 정확하게 알기 위해서는 먼저 Low-Level 컴퓨터 구조를 알아야 한다.

> 컴퓨터는

## 5.2.2 Compact Arrays in Python

**Compact Array**는 **참조 구조**보다 컴퓨팅 성능 면에서 여러 가지 이점을 가진다. 

> 콤팩트 구조의 전체 메모리 사용량이 참조 구조에서 사용하는 메모리 사용량보다 훨씬 낮게 사용한다

이는 기본 데이터 외에 메모리 참조의 순서를 명시적으로 저장하는 데 필요한 오버헤드(해당 요소를 가리켜주는)가 없기 때문이다.

**참조 구조**는 배열에 저장된 메모리 주소에 64비트를 사용하고, 그 위에 요소로 간주되는 객체를 가리키는 데 사용되는 비트 수가 또 필요하다.
 
> 콤팩트 구조는 기본 데이터가 메모리에 연속적으로 저장된다. 

참조 구조의 경우는 그렇지 않으며, 리스트는 메모리 주소의 순서는 관리하지만 그 요소들이 실제로 메모리의 어디에 위치하는지는 정하지 않는다.

컴퓨터의 캐시 및 메모리 계층 구조의 작동 방식 때문에, 같은 계산에서 사용될 다른 데이터 근처에 데이터를 저장하는 것이 유리하다.

파이썬은 기본 데이터 유형의 배열을 위해 array 모듈을 제공하고 있으며, 이 모듈은 콤팩트한 저장을 위한 array 클래스를 지원하고있다.

이 클래스의 공개 인터페이스는 대부분 파이썬 리스트와 유사합니다. 그러나 array 클래스의 생성자는 첫 번째 매개변수로 데이터 유형을 지정하는 타입 코드가 필요하다. 

```python
prime = array('i', [2, 3, 5, 7, 11, 13, 17, 19])
```
![](https://velog.velcdn.com/images/calzone0404/post/335d4893-425b-40c2-9649-20d1190e1091/image.png)

- 타입 코드 'i'는 부호 있는 정수의 배열을 지정하고, 각 정수는 **16비트(int형 이므로)**를 사용하여 표현된다. 
- 타입 코드는 인터프리터가 배열의 각 요소에 필요한 비트 수를 정확히 결정할 수 있도록 도와주기 위해 사용한다.

사용자 정의 데이터 유형의 콤팩트 배열을 만드는 기능은 array 모듈에서 제공하지 않지만, ctypes 모듈의 하위 수준 지원을 통해 이러한 구조의 콤팩트 배열을 생성할 수 있다.
